from ..config import Vector, ParameterName, ColorConfig, ZOrderConfig
from ..config import CompositeFigure, PathStep, PathOperation, PathShape, Rectangle
from .mice import MiceConfig


class FruitFlyConfig(MiceConfig):
    fed_rect_edge_width = MiceConfig.infusion_rect_edge_width
    fed_inner_color_config = MiceConfig.infusion_inner_color_config
    common_edge_width = 8.5

    fly_config = {
        **MiceConfig.mice_config,
        ParameterName.edge_width: common_edge_width,
    }


class FruitFly(CompositeFigure):
    total_width = 1
    total_height = 1.132867132867133
    height_to_width_ratio = total_height / total_width

    def __init__(self, infusion=True, **kwargs):
        total_width = self.total_width
        total_height = self.total_height
        fly_path_param_dict_dict = {
            'fly': {ParameterName.path_step_list: [
                PathStep(PathOperation.moveto, Vector(0.3242985803216783, 1.0855244755244757)),
                PathStep(PathOperation.curve4, Vector(0.3201363074825175, 1.0853846153846156),
                         Vector(0.3168412917622378, 1.0819580419580437),
                         Vector(0.3167732303216783, 1.0778321678321685)),
                PathStep(PathOperation.lineto, Vector(0.3167732303216783, 1.0103496503496505)),
                PathStep(PathOperation.curve4, Vector(0.3167753353146853, 0.9990209790209799),
                         Vector(0.31471665215384614, 0.9878321678321693),
                         Vector(0.3106961155104895, 0.9772027972027989)),
                PathStep(PathOperation.lineto, Vector(0.2847654083216783, 0.9090209790209807)),
                PathStep(PathOperation.curve4, Vector(0.2728020313986014, 0.8775524475524492),
                         Vector(0.2760802071748252, 0.8423076923076942),
                         Vector(0.2936512854685315, 0.8135664335664345)),
                PathStep(PathOperation.lineto, Vector(0.3553086356363636, 0.7125174825174848)),
                PathStep(PathOperation.curve4, Vector(0.3388363636923077, 0.6835664335664335),
                         Vector(0.32901867630769227, 0.6513286713286737),
                         Vector(0.3265642544615385, 0.6181818181818188)),
                PathStep(PathOperation.lineto, Vector(0.26200552226573426, 0.6730769230769231)),
                PathStep(PathOperation.curve4, Vector(0.2490029804615384, 0.6840559440559452),
                         Vector(0.23926808946853143, 0.6984615384615392),
                         Vector(0.23385053913286713, 0.714615384615385)),
                PathStep(PathOperation.lineto, Vector(0.20193323183216783, 0.8098601398601427)),
                PathStep(PathOperation.curve4, Vector(0.19503306475524473, 0.830489510489512),
                         Vector(0.18212033598601396, 0.8486013986014012),
                         Vector(0.1648467633706293, 0.8618181818181835)),
                PathStep(PathOperation.lineto, Vector(0.11275520309090908, 0.9018181818181821)),
                PathStep(PathOperation.curve4, Vector(0.10928477128671327, 0.9044755244755255),
                         Vector(0.10432610942657343, 0.9037762237762255),
                         Vector(0.10167943155244753, 0.9003496503496503)),
                PathStep(PathOperation.curve4, Vector(0.09905520693706293, 0.8969230769230785),
                         Vector(0.09968740650349649, 0.8920279720279748),
                         Vector(0.1030988985034965, 0.8893706293706314)),
                PathStep(PathOperation.lineto, Vector(0.15528097348251746, 0.8493706293706296)),
                PathStep(PathOperation.curve4, Vector(0.17006083104895106, 0.838041958041959),
                         Vector(0.18110993934265734, 0.8225174825174849),
                         Vector(0.18701725138461536, 0.8048951048951074)),
                PathStep(PathOperation.lineto, Vector(0.21889035383216782, 0.7095804195804214)),
                PathStep(PathOperation.curve4, Vector(0.22521094616783216, 0.6907692307692321),
                         Vector(0.23657580341258738, 0.6739860139860148),
                         Vector(0.25175911797202793, 0.6610489510489524)),
                PathStep(PathOperation.lineto, Vector(0.32602116626573424, 0.5979720279720295)),
                PathStep(PathOperation.curve4, Vector(0.3260197629370629, 0.5975524475524494),
                         Vector(0.3260197629370629, 0.5970629370629378),
                         Vector(0.32602116626573424, 0.5966433566433578)),
                PathStep(PathOperation.curve4, Vector(0.27428464813986014, 0.5472027972027972),
                         Vector(0.23380633427972025, 0.4872727272727293),
                         Vector(0.20732832890909086, 0.4209090909090913)),
                PathStep(PathOperation.lineto, Vector(0.08800118699300696, 0.32979020979021195)),
                PathStep(PathOperation.curve4, Vector(0.06093238025174826, 0.3091608391608394),
                         Vector(0.04506143464335664, 0.2771328671328679),
                         Vector(0.04506704795804195, 0.24314685314685303)),
                PathStep(PathOperation.lineto, Vector(0.04506704795804195, 0.16090909090909244)),
                PathStep(PathOperation.curve4, Vector(0.04519685586013988, 0.15657342657342888),
                         Vector(0.04883358211188812, 0.15314685314685378),
                         Vector(0.05319091763636363, 0.15328671328671378)),
                PathStep(PathOperation.curve4, Vector(0.057365820433566424, 0.15342657342657381),
                         Vector(0.060721179286713285, 0.1567832167832173),
                         Vector(0.06084467220979023, 0.16090909090909244)),
                PathStep(PathOperation.lineto, Vector(0.06084467220979023, 0.24314685314685303)),
                PathStep(PathOperation.curve4, Vector(0.06082783226573425, 0.27223776223776425),
                         Vector(0.07440223050349651, 0.2996503496503522),
                         Vector(0.09756767854545453, 0.3173426573426581)),
                PathStep(PathOperation.lineto, Vector(0.19730926386013983, 0.39342657342657494)),
                PathStep(PathOperation.curve4, Vector(0.1773167419440559, 0.33328671328671544),
                         Vector(0.1690223678321678, 0.2698601398601409),
                         Vector(0.17287169837762234, 0.2065734265734295)),
                PathStep(PathOperation.curve4, Vector(0.17352635120279716, 0.17965034965035004),
                         Vector(0.18013743257342654, 0.1532167832167854),
                         Vector(0.1922306173986014, 0.12916083916084095)),
                PathStep(PathOperation.curve4, Vector(0.20492793521678324, 0.10384615384615639),
                         Vector(0.2339480704755245, 0.09125874125874253),
                         Vector(0.2611880833146853, 0.0991608391608412)),
                PathStep(PathOperation.curve4, Vector(0.29807527910489506, 0.10986013986014012),
                         Vector(0.33065074755244755, 0.13188811188811278),
                         Vector(0.3543129739440559, 0.16202797202797253)),
                PathStep(PathOperation.curve4, Vector(0.3671730778881119, 0.12405594405594571),
                         Vector(0.3914141773566434, 0.09090909090909091),
                         Vector(0.42376721820979024, 0.06706293706293807)),
                PathStep(PathOperation.curve4, Vector(0.4652713653286713, 0.03650349650349828),
                         Vector(0.5219468987132866, 0.03650349650349828),
                         Vector(0.5634510458321678, 0.06706293706293807)),
                PathStep(PathOperation.curve4, Vector(0.5956567371748251, 0.0907692307692309),
                         Vector(0.6198255652167831, 0.12377622377622569),
                         Vector(0.6327242606993007, 0.16153846153846407)),
                PathStep(PathOperation.curve4, Vector(0.6346608542657343, 0.1593706293706323),
                         Vector(0.6366044644755244, 0.15727272727272892),
                         Vector(0.6385761412587413, 0.15517482517482556)),
                PathStep(PathOperation.curve4, Vector(0.6616959811188812, 0.12846153846154088),
                         Vector(0.6920710302097901, 0.10902097902098004),
                         Vector(0.726031584055944, 0.0991608391608412)),
                PathStep(PathOperation.curve4, Vector(0.7532842268531468, 0.09118881118881411),
                         Vector(0.7823331303496504, 0.10384615384615639),
                         Vector(0.7950332548251748, 0.12916083916084095)),
                PathStep(PathOperation.curve4, Vector(0.8070948647552447, 0.1532167832167854),
                         Vector(0.8136764762237763, 0.17965034965035004),
                         Vector(0.8143009574825173, 0.2065734265734295)),
                PathStep(PathOperation.curve4, Vector(0.818167127972028, 0.2698601398601409),
                         Vector(0.8098874888111888, 0.33328671328671544),
                         Vector(0.789911105174825, 0.39342657342657494)),
                PathStep(PathOperation.lineto, Vector(0.8896035739860139, 0.3173426573426581)),
                PathStep(PathOperation.curve4, Vector(0.9127865636363635, 0.2996503496503522),
                         Vector(0.9263848184615383, 0.27223776223776425),
                         Vector(0.9263778018181817, 0.24314685314685303)),
                PathStep(PathOperation.lineto, Vector(0.9263778018181817, 0.16090909090909244)),
                PathStep(PathOperation.curve4, Vector(0.9265041013986013, 0.15657342657342888),
                         Vector(0.9301387226573425, 0.15314685314685378),
                         Vector(0.934496058181818, 0.15328671328671378)),
                PathStep(PathOperation.curve4, Vector(0.9386709609790208, 0.15342657342657381),
                         Vector(0.942031933146853, 0.1567832167832173), Vector(0.942151216083916, 0.16090909090909244)),
                PathStep(PathOperation.lineto, Vector(0.942151216083916, 0.24314685314685303)),
                PathStep(PathOperation.curve4, Vector(0.9421722660139858, 0.2770629370629395),
                         Vector(0.9263146520279718, 0.3091608391608394),
                         Vector(0.8992654918881118, 0.32979020979021195)),
                PathStep(PathOperation.lineto, Vector(0.7798913384615385, 0.4209090909090913)),
                PathStep(PathOperation.curve4, Vector(0.7534245597202798, 0.4872727272727293),
                         Vector(0.7129665941258742, 0.5472027972027972),
                         Vector(0.6612469159440559, 0.5966433566433578)),
                PathStep(PathOperation.curve4, Vector(0.6612469159440559, 0.5970629370629378),
                         Vector(0.6612469159440559, 0.5975524475524494),
                         Vector(0.6612469159440559, 0.5979720279720295)),
                PathStep(PathOperation.lineto, Vector(0.7355040525874125, 0.6611188811188841)),
                PathStep(PathOperation.curve4, Vector(0.7506880688111888, 0.6739860139860148),
                         Vector(0.762055031048951, 0.6907692307692321), Vector(0.7683770267132867, 0.7095804195804214)),
                PathStep(PathOperation.lineto, Vector(0.8002466208391606, 0.8048951048951074)),
                PathStep(PathOperation.curve4, Vector(0.8061546345454544, 0.8225174825174849),
                         Vector(0.8172058478321678, 0.838041958041959), Vector(0.8319828987412587, 0.8493706293706296)),
                PathStep(PathOperation.lineto, Vector(0.8841235755244753, 0.8893706293706314)),
                PathStep(PathOperation.curve4, Vector(0.8874564811188811, 0.8921678321678348),
                         Vector(0.8878915130069929, 0.8971328671328701),
                         Vector(0.8850848556643356, 0.9004195804195819)),
                PathStep(PathOperation.curve4, Vector(0.8824465977622377, 0.9035664335664338),
                         Vector(0.8778577130069929, 0.9041958041958055), Vector(0.874510774125874, 0.9018181818181821)),
                PathStep(PathOperation.lineto, Vector(0.8223279974825173, 0.8618181818181835)),
                PathStep(PathOperation.curve4, Vector(0.8050530215384616, 0.8486013986014012),
                         Vector(0.7921423977622377, 0.830489510489512), Vector(0.7852380206993007, 0.8098601398601427)),
                PathStep(PathOperation.lineto, Vector(0.7533684265734266, 0.714615384615385)),
                PathStep(PathOperation.curve4, Vector(0.7479656111888112, 0.6984615384615392),
                         Vector(0.73824756013986, 0.6841258741258768), Vector(0.7252597532867132, 0.6730769230769231)),
                PathStep(PathOperation.lineto, Vector(0.6606996177622377, 0.6181818181818188)),
                PathStep(PathOperation.curve4, Vector(0.6582437925874125, 0.6513286713286737),
                         Vector(0.6484275085314686, 0.6835664335664335),
                         Vector(0.6319594465734266, 0.7125174825174848)),
                PathStep(PathOperation.lineto, Vector(0.6936146917482517, 0.8135664335664345)),
                PathStep(PathOperation.curve4, Vector(0.7111703334265735, 0.8423776223776226),
                         Vector(0.7144330725874125, 0.8775524475524492),
                         Vector(0.7024556623776224, 0.9090909090909091)),
                PathStep(PathOperation.lineto, Vector(0.6765221485314685, 0.9772727272727273)),
                PathStep(PathOperation.curve4, Vector(0.6725156451748252, 0.9878321678321693),
                         Vector(0.6704738019580421, 0.9990209790209799),
                         Vector(0.6704948518881119, 1.0103496503496505)),
                PathStep(PathOperation.lineto, Vector(0.6704948518881119, 1.0778321678321685)),
                PathStep(PathOperation.curve4, Vector(0.6703404857342657, 1.082167832167832),
                         Vector(0.6666918311888111, 1.0855244755244757),
                         Vector(0.6623344956643356, 1.0853846153846156)),
                PathStep(PathOperation.curve4, Vector(0.6581876594405595, 1.0852447552447557),
                         Vector(0.6548617704895104, 1.0819580419580437), Vector(0.654714420979021, 1.0778321678321685)),
                PathStep(PathOperation.lineto, Vector(0.654714420979021, 1.0103496503496505)),
                PathStep(PathOperation.curve4, Vector(0.654714420979021, 0.9971328671328682),
                         Vector(0.6571281462937062, 0.9839860139860143), Vector(0.6618363139860138, 0.971608391608392)),
                PathStep(PathOperation.lineto, Vector(0.6878119276923077, 0.9034265734265738)),
                PathStep(PathOperation.curve4, Vector(0.6980492103496503, 0.8765034965034976),
                         Vector(0.6952565862937062, 0.8463636363636378),
                         Vector(0.6802409695104895, 0.8217482517482533)),
                PathStep(PathOperation.lineto, Vector(0.6227087039720279, 0.7275524475524505)),
                PathStep(PathOperation.curve4, Vector(0.6103748482797202, 0.745734265734268),
                         Vector(0.5954364145734266, 0.7620279720279738),
                         Vector(0.5783677279440559, 0.7758741258741277)),
                PathStep(PathOperation.curve4, Vector(0.5868199765314686, 0.7804195804195829),
                         Vector(0.5944400512167831, 0.7862937062937067),
                         Vector(0.6009002747552447, 0.7933566433566452)),
                PathStep(PathOperation.curve4, Vector(0.6059634846013985, 0.798811188811189),
                         Vector(0.610745327048951, 0.8045454545454558), Vector(0.615226857160839, 0.8105594405594427)),
                PathStep(PathOperation.curve4, Vector(0.6395374213986014, 0.8430769230769258),
                         Vector(0.6369833632167832, 0.8883216783216797), Vector(0.609152549006993, 0.9179720279720278)),
                PathStep(PathOperation.curve4, Vector(0.5923448815104894, 0.9358741258741285),
                         Vector(0.5715728105174825, 0.9496503496503509),
                         Vector(0.5484908605314686, 0.9581118881118896)),
                PathStep(PathOperation.curve4, Vector(0.5555657420279719, 0.9762937062937072),
                         Vector(0.5660422922237762, 0.993006993006993), Vector(0.5793661962937063, 1.0073426573426587)),
                PathStep(PathOperation.curve4, Vector(0.5823798446153845, 1.0104895104895104),
                         Vector(0.5822710866433565, 1.0154545454545456),
                         Vector(0.5791227187692306, 1.0184615384615407)),
                PathStep(PathOperation.curve4, Vector(0.5759736492307692, 1.0214685314685326),
                         Vector(0.5709777991608391, 1.0213286713286727),
                         Vector(0.5679634491748251, 1.0181818181818207)),
                PathStep(PathOperation.curve4, Vector(0.567909421020979, 1.0181818181818207),
                         Vector(0.5678560945314686, 1.0181118881118891),
                         Vector(0.5678034697062936, 1.0180419580419606)),
                PathStep(PathOperation.lineto, Vector(0.5675712188111888, 1.0180419580419606)),
                PathStep(PathOperation.curve4, Vector(0.5526271717902097, 1.002027972027975),
                         Vector(0.5409276206573427, 0.9832867132867141),
                         Vector(0.5331145882797202, 0.9627972027972048)),
                PathStep(PathOperation.curve4, Vector(0.5071410795664336, 0.9695104895104918),
                         Vector(0.47988422678321685, 0.9695104895104918), Vector(0.45391071806993, 0.9627972027972048)),
                PathStep(PathOperation.curve4, Vector(0.44609768569230757, 0.9832867132867141),
                         Vector(0.4343981345594405, 1.002027972027975),
                         Vector(0.41945408753846153, 1.0180419580419606)),
                PathStep(PathOperation.curve4, Vector(0.41641588096503496, 1.0211888111888126),
                         Vector(0.4114081026013985, 1.0212587412587442),
                         Vector(0.40826955802797205, 1.0182517482517492)),
                PathStep(PathOperation.curve4, Vector(0.4052299481258741, 1.0153146853146857),
                         Vector(0.40504400707692306, 1.0104895104895104),
                         Vector(0.4078478577622378, 1.0073426573426587)),
                PathStep(PathOperation.curve4, Vector(0.4211871984475525, 0.993006993006993),
                         Vector(0.4316805885874125, 0.9763636363636388),
                         Vector(0.4387688017062936, 0.9581118881118896)),
                PathStep(PathOperation.curve4, Vector(0.41568685172027975, 0.9496503496503509),
                         Vector(0.3949154823916084, 0.9358741258741285),
                         Vector(0.3781078148951049, 0.9179720279720278)),
                PathStep(PathOperation.curve4, Vector(0.3502798073426573, 0.8883216783216797),
                         Vector(0.3477215391748252, 0.8430769230769258),
                         Vector(0.3720328050769231, 0.8105594405594427)),
                PathStep(PathOperation.curve4, Vector(0.37651433518881117, 0.8045454545454558),
                         Vector(0.38129617763636353, 0.798811188811189),
                         Vector(0.3863593874825175, 0.7933566433566452)),
                PathStep(PathOperation.curve4, Vector(0.3928055777342658, 0.7862937062937067),
                         Vector(0.4004102158041958, 0.7804195804195829),
                         Vector(0.40884562444755235, 0.7758741258741277)),
                PathStep(PathOperation.curve4, Vector(0.39177834114685317, 0.7620279720279738),
                         Vector(0.3768399074405594, 0.745734265734268),
                         Vector(0.36450745507692306, 0.7275524475524505)),
                PathStep(PathOperation.lineto, Vector(0.30701939439160836, 0.8217482517482533)),
                PathStep(PathOperation.curve4, Vector(0.2920150042377622, 0.8463636363636378),
                         Vector(0.2892392201258741, 0.8765034965034976),
                         Vector(0.29949404439160837, 0.9034265734265738)),
                PathStep(PathOperation.lineto, Vector(0.32538054672727273, 0.971608391608392)),
                PathStep(PathOperation.curve4, Vector(0.3300873110909091, 0.9839860139860143),
                         Vector(0.3324996330769231, 0.9971328671328682),
                         Vector(0.3324996330769231, 1.0103496503496505)),
                PathStep(PathOperation.lineto, Vector(0.3324996330769231, 1.0778321678321685)),
                PathStep(PathOperation.curve4, Vector(0.33242876497902096, 1.082167832167832),
                         Vector(0.3288376469090909, 1.0855944055944073),
                         Vector(0.32447960972027967, 1.0855244755244757)),
                PathStep(PathOperation.curve4, Vector(0.3244024266433566, 1.0855244755244757),
                         Vector(0.3243252435664335, 1.0855244755244757),
                         Vector(0.32424806048951044, 1.0855244755244757)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.49621616586013984, 0.9520979020979027)),
                PathStep(PathOperation.curve4, Vector(0.5346814047412588, 0.9513986013986027),
                         Vector(0.5712191716923077, 0.9351748251748253),
                         Vector(0.5974993077202796, 0.9072027972027973)),
                PathStep(PathOperation.curve4, Vector(0.6200907943356644, 0.883146853146856),
                         Vector(0.6221536874825173, 0.8463636363636378),
                         Vector(0.6023976264475525, 0.8199300699300699)),
                PathStep(PathOperation.curve4, Vector(0.5982423702517482, 0.8144055944055947),
                         Vector(0.5938085533146853, 0.809090909090911), Vector(0.5891130155804195, 0.8039860139860158)),
                PathStep(PathOperation.curve4, Vector(0.5761638002657341, 0.7898601398601418),
                         Vector(0.5578524660979021, 0.7817482517482547),
                         Vector(0.5386535265454545, 0.7817482517482547)),
                PathStep(PathOperation.lineto, Vector(0.4484770294545455, 0.7817482517482547)),
                PathStep(PathOperation.curve4, Vector(0.4292619516223775, 0.7817482517482547),
                         Vector(0.4109302691888111, 0.7897902097902102),
                         Vector(0.3979712305734266, 0.8039860139860158)),
                PathStep(PathOperation.curve4, Vector(0.3932911294545455, 0.809090909090911),
                         Vector(0.3888727491328672, 0.8144055944055947),
                         Vector(0.3847329295524475, 0.8199300699300699)),
                PathStep(PathOperation.curve4, Vector(0.3649761668531468, 0.8463636363636378),
                         Vector(0.36703765667132865, 0.883146853146856),
                         Vector(0.38962844162237764, 0.9072027972027973)),
                PathStep(PathOperation.curve4, Vector(0.4171687667972028, 0.9365734265734286),
                         Vector(0.45590695310489504, 0.9528671328671344),
                         Vector(0.49621616586013984, 0.9520979020979027)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.425807658097902, 0.7690909090909093)),
                PathStep(PathOperation.curve4, Vector(0.43318846524475524, 0.7670629370629375),
                         Vector(0.4408148549090909, 0.766013986013989), Vector(0.4484770294545455, 0.766013986013989)),
                PathStep(PathOperation.lineto, Vector(0.5386535265454545, 0.766013986013989)),
                PathStep(PathOperation.curve4, Vector(0.5463142977622377, 0.766013986013989),
                         Vector(0.5539406874265733, 0.7670629370629375),
                         Vector(0.5613200912447551, 0.7690909090909093)),
                PathStep(PathOperation.curve4, Vector(0.6335241580419579, 0.7152447552447566),
                         Vector(0.663113343076923, 0.6213986013986023), Vector(0.6348082037762237, 0.5360839160839183)),
                PathStep(PathOperation.curve4, Vector(0.6178994966153846, 0.48986013986014115),
                         Vector(0.5866452621118882, 0.45020979020979096),
                         Vector(0.5455894785034964, 0.42293706293706307)),
                PathStep(PathOperation.curve4, Vector(0.5140854514965035, 0.4019580419580421),
                         Vector(0.47304510450349657, 0.4019580419580421),
                         Vector(0.4415410774965034, 0.42293706293706307)),
                PathStep(PathOperation.curve4, Vector(0.4004502106713286, 0.45020979020979096),
                         Vector(0.36916229627972025, 0.48986013986014115),
                         Vector(0.3522262242097902, 0.5360839160839183)),
                PathStep(PathOperation.curve4, Vector(0.3239449414965035, 0.6213986013986023),
                         Vector(0.35357061307692306, 0.7152447552447566),
                         Vector(0.425807658097902, 0.7690909090909093)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.3273816934125874, 0.5759440559440568)),
                PathStep(PathOperation.curve4, Vector(0.3291625174965035, 0.5606293706293711),
                         Vector(0.3325192796783216, 0.545524475524477), Vector(0.3374000567972028, 0.5309090909090914)),
                PathStep(PathOperation.curve4, Vector(0.35543844353846155, 0.481468531468534),
                         Vector(0.38884187590209784, 0.43909090909091203),
                         Vector(0.43274571504895104, 0.40986013986014075)),
                PathStep(PathOperation.curve4, Vector(0.4402415951468531, 0.40489510489510555),
                         Vector(0.44832757495104886, 0.400839160839162),
                         Vector(0.4568198184055944, 0.3977622377622385)),
                PathStep(PathOperation.curve4, Vector(0.43896526772027966, 0.3109090909090912),
                         Vector(0.397443578993007, 0.23062937062937075),
                         Vector(0.33681065875524474, 0.16566433566433605)),
                PathStep(PathOperation.curve4, Vector(0.315674423972028, 0.14118881118881157),
                         Vector(0.28786255469930067, 0.12335664335664565),
                         Vector(0.2567458464055944, 0.11426573426573529)),
                PathStep(PathOperation.curve4, Vector(0.2368241925874126, 0.10846153846153998),
                         Vector(0.21560937139860137, 0.11776223776223878),
                         Vector(0.20633266721678317, 0.13622377622377635)),
                PathStep(PathOperation.curve4, Vector(0.19524145906293705, 0.15832167832168062),
                         Vector(0.18920223412587409, 0.18258741258741348),
                         Vector(0.18864932262937065, 0.20727272727272955)),
                PathStep(PathOperation.curve4, Vector(0.1802237372867133, 0.344195804195806),
                         Vector(0.2306698946993007, 0.47825174825175054),
                         Vector(0.3273816934125874, 0.5759440559440568)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.6597453542657343, 0.5759440559440568)),
                PathStep(PathOperation.curve4, Vector(0.7564627662937062, 0.47825174825175054),
                         Vector(0.8069054153846154, 0.344195804195806),
                         Vector(0.7984784267132867, 0.20727272727272955)),
                PathStep(PathOperation.curve4, Vector(0.7979241118881117, 0.18258741258741348),
                         Vector(0.7918897986013985, 0.15832167832168062),
                         Vector(0.7807964854545454, 0.13622377622377635)),
                PathStep(PathOperation.curve4, Vector(0.7715204829370629, 0.11769230769231036),
                         Vector(0.7503021534265735, 0.10846153846153998),
                         Vector(0.7303819029370628, 0.11426573426573529)),
                PathStep(PathOperation.curve4, Vector(0.6992630896503496, 0.12328671328671405),
                         Vector(0.6714561320279719, 0.14118881118881157),
                         Vector(0.6503149855944055, 0.16566433566433605)),
                PathStep(PathOperation.curve4, Vector(0.5896525954545455, 0.23055944055944233),
                         Vector(0.5481000334965036, 0.3109090909090912), Vector(0.530220222895105, 0.3977622377622385)),
                PathStep(PathOperation.curve4, Vector(0.538727902965035, 0.400839160839162),
                         Vector(0.5468286177202797, 0.4048251748251771),
                         Vector(0.5543378294405594, 0.40986013986014075)),
                PathStep(PathOperation.curve4, Vector(0.5982585085314684, 0.4390209790209804),
                         Vector(0.6316787808391608, 0.481468531468534), Vector(0.6497255875524476, 0.5309090909090914)),
                PathStep(PathOperation.curve4, Vector(0.6546091713286712, 0.545524475524477),
                         Vector(0.6579701434965034, 0.5606293706293711),
                         Vector(0.6597523709090908, 0.5759440559440568)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.47214206250349644, 0.39356643356643495)),
                PathStep(PathOperation.curve4, Vector(0.4862841071888111, 0.39076923076923153),
                         Vector(0.5008436421538462, 0.39076923076923153),
                         Vector(0.5149856868391609, 0.39356643356643495)),
                PathStep(PathOperation.curve4, Vector(0.5241592463636364, 0.34951048951048963),
                         Vector(0.5392885327692307, 0.3067832167832192),
                         Vector(0.5599602657622377, 0.2667832167832174)),
                PathStep(PathOperation.lineto, Vector(0.42716748358041956, 0.2667832167832174)),
                PathStep(PathOperation.curve4, Vector(0.4478392165734266, 0.3067832167832192),
                         Vector(0.4629685029790209, 0.34951048951048963),
                         Vector(0.47214206250349644, 0.39356643356643495)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.41869067674125876, 0.2510489510489517)),
                PathStep(PathOperation.moveto, Vector(0.5684398792587412, 0.2510489510489517)),
                PathStep(PathOperation.curve4, Vector(0.5834435677482517, 0.224335664335667),
                         Vector(0.6008813298181818, 0.19909090909091087),
                         Vector(0.6205314395384615, 0.17559440559440648)),
                PathStep(PathOperation.curve4, Vector(0.6202388455104895, 0.1745454545454548),
                         Vector(0.6199371298461537, 0.1734965034965063),
                         Vector(0.6196255908811188, 0.1724475524475546)),
                PathStep(PathOperation.lineto, Vector(0.36759758481118876, 0.1724475524475546)),
                PathStep(PathOperation.curve4, Vector(0.3672551726153846, 0.1734965034965063),
                         Vector(0.3669225837202797, 0.1745454545454548),
                         Vector(0.3665991164615384, 0.17559440559440648)),
                PathStep(PathOperation.curve4, Vector(0.3862492261818181, 0.19909090909091087),
                         Vector(0.40368698825174826, 0.224335664335667),
                         Vector(0.41869067674125876, 0.2510489510489517)),
                PathStep(PathOperation.closepoly),

                PathStep(PathOperation.moveto, Vector(0.37312669977622376, 0.15671328671328888)),
                PathStep(PathOperation.moveto, Vector(0.6140038562237763, 0.15671328671328888)),
                PathStep(PathOperation.curve4, Vector(0.601470026195804, 0.12608391608391747),
                         Vector(0.5807007618601399, 0.09944055944056122),
                         Vector(0.5539757706433567, 0.07972027972028035)),
                PathStep(PathOperation.curve4, Vector(0.5180673966013986, 0.053286713286715706),
                         Vector(0.4690603527412588, 0.053286713286715706),
                         Vector(0.4331519786993006, 0.07972027972028035)),
                PathStep(PathOperation.curve4, Vector(0.40642768914685307, 0.09944055944056122),
                         Vector(0.38565982813986016, 0.12608391608391747),
                         Vector(0.37312669977622376, 0.15671328671328888)),
                PathStep(PathOperation.closepoly),

            ]},
        }

        fed_left_x_offset = 0.21
        fed_large_rect_width = 0.15714285714285714285714285714286
        fed_large_rect_height = 0.50
        inner_color_ratio = 0.60769230769230769230769230769231
        fed_large_rect_center = Vector(
            fed_left_x_offset / 2,
            self.height_to_width_ratio / 2)
        fed_inner_color_rect_height = fed_large_rect_height * 0.6
        fed_inner_color_rect_center = Vector(
            fed_large_rect_center.x,
            fed_large_rect_center.y - (1 - inner_color_ratio) / 2 * fed_large_rect_height)

        if infusion:
            offset_vector = Vector(fed_left_x_offset, 0)
            for mouse_path_param_dict in fly_path_param_dict_dict.values():
                current_path_list = mouse_path_param_dict[ParameterName.path_step_list]
                for path_obj in current_path_list:
                    path_obj.offset_inplace(offset_vector)

        fed_obj_list = [
            Rectangle(**{
                ParameterName.center: fed_large_rect_center,
                ParameterName.width: fed_large_rect_width,
                ParameterName.height: fed_large_rect_height,
                ParameterName.name: 'fed_large_rect',
                **FruitFlyConfig.mice_config,
                ParameterName.edge_width: FruitFlyConfig.fed_rect_edge_width
            }),
            Rectangle(**{
                ParameterName.center: fed_inner_color_rect_center,
                ParameterName.width: fed_large_rect_width,
                ParameterName.height: fed_inner_color_rect_height,
                ParameterName.name: 'fed_inner_color_rect',
                **FruitFlyConfig.fed_inner_color_config
            }),
        ]

        fly_path_shape_obj_dict = {
            key:
            PathShape(**{
                **FruitFlyConfig.mice_config,
                **fly_path_param_dict,
                ParameterName.name: key,
            }) for key, fly_path_param_dict in fly_path_param_dict_dict.items()
        }
        mouse_dict = {
            ParameterName.mouse: fly_path_shape_obj_dict,
        }
        if infusion:
            mouse_dict[ParameterName.infusion] = {
                fed_obj.name: fed_obj for fed_obj in fed_obj_list
            }
        super().__init__(
            mouse_dict, bottom_left=Vector(0, 0), size=Vector(total_width, total_height),
            **kwargs)

